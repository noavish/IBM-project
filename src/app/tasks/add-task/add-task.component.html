<form>
  <div class="row card-body">
    <div class="input-field">
      <input id='task' type="text" class="validate task" name="task" [(ngModel)]="task.task_text">
      <label for="task">Task</label>
    </div>
  </div>
  <div *ngIf="!loading" class="row">
    <select *ngIf="user?.level=='manager'; else user_menu" title="user" materialize="material_select" [materializeSelectOptions]="users"
      name="user" [(ngModel)]="task.assign_to_id">
      <option [value]="" disabled>User</option>
      <option value={{user.user_id}} *ngFor="let user of users; let i = index">{{user.user_id}} | {{user.username}}</option>
    </select>
  </div>
  <div class="row">
    <div class="input-field">
      <a class="waves-effect waves-light btn btn-gradient" (click)="addTask()"> <i class="material-icons right">send</i>Submit</a>
    </div>
  </div>
</form>

<ng-template #user_menu>
  <select class="col s4" materialize="material_select" name='user' [(ngModel)]="task.assign_to_id" disabled>
    <option value=user?.user_id>{{user?.user_id}} | {{user?.username}}</option>
  </select>
</ng-template>
